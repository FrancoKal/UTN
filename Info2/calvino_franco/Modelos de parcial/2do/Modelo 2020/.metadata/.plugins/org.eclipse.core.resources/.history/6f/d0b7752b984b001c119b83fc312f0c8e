/*
 * teclado.c
 *
 *  Created on: 22 nov. 2021
 *      Author: franco
 */

#include "teclado.h"

uint8_t teclaDetectada;

void TecladoSW(void)
{
	//Hecha por otro programador
}

uint8_t BarridoTeclado(void)
{
	/*
	 * Debo verificar fila por fila en cual columna detecto una tecla.
	 * Para comprobar si hay tecla en una fila, pongo pongo en 0 esa fila.
	 * Al presionar una tecla, el pin de la columna correspondiente se pone en 0.
	 *
	 * Debo causar un delay a proposito para darle al micro tiempo para detectar una tecla
	 */

	//Verifico la fila 0
	SetPIN(FILA0, 0);	SetPIN(FILA1, 1);	SetPIN(FILA2, 1);

	if (GetPIN(COL0) == 0)	return TECLA_T_MAX;
	if (GetPIN(COL1) == 0)	return TECLA_T_MIN;

	//Verifico la fila 1
	SetPIN(FILA0, 1);	SetPIN(FILA1, 0);	SetPIN(FILA2, 1);

	if (GetPIN(COL0) == 0)	return TECLA_H_MAX;
	if (GetPIN(COL1) == 0)	return TECLA_H_MIN;
}

void DriverTeclado(void)
{

}

uint8_t Teclado(void)
{

}


