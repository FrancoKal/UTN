/*
 * PuertoSerie.c
 *
 *  Created on: 21 nov. 2021
 *      Author: franco
 */
#include "PuertoSerie.h"

void USART0_IRQHandler(void)
{
	uint8_t dato;
	uint32_t estado = USART0->STAT;

	//Caso recepcion
	if (estado & RX_READY)
	{
		//Recibo dato
		dato = USART0->RXDAT;

		//Mando el dato al buffer
		UART0_pushRx(dato);
	}

	//Caso transmision
	if (estado & TX_READY)
	{
		//Debo enviar los datos que estan en el buffer de transmision
		dato = USART0_popTx();

		//Si hay datos para enviar (dato != -1), entonces los escribo en el registro de transmision
		if (dato >= 0)
			USART0->TXDAT

	}
}

